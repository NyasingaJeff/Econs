function zeroBSCRM_settingsPage_bindCustomFields(){console.log("======== CUSTOM FIELDS EDITOR ============="),zbscrmJS_customFields_buildCustomLines(),jQuery("#zbscrm-addcustomfield-address").click(function(){zbscrmJS_customFields_buildLine("addresses","text","","")}),jQuery("#zbscrm-addcustomfield-customer").click(function(){zbscrmJS_customFields_buildLine("customers","text","","")}),jQuery("#zbscrm-addcustomfield-customerfiles").click(function(){zbscrmJS_customFields_buildLineFiles("customersfiles","")}),jQuery("#zbscrm-addcustomfield-company").click(function(){zbscrmJS_customFields_buildLine("companies","text","","")}),jQuery("#zbscrm-addcustomfield-quotes").click(function(){zbscrmJS_customFields_buildLine("quotes","text","","")}),jQuery("#zbscrm-addcustomfield-invoices").click(function(){zbscrmJS_customFields_buildLine("invoices","text","","")}),jQuery("#zbscrm-addcustomfield-transactions").click(function(){zbscrmJS_customFields_buildLine("transactions","text","","")}),setTimeout(function(){zeroBSCRMJS_genericLoaded()},0)}function zbscrmJS_customFields_buildCustomLines(){void 0!==window.wpzbscrmCustomFields.addresses&&jQuery.each(window.wpzbscrmCustomFields.addresses,function(e,s){zbscrmJS_customFields_buildLineV3("addresses",s)}),void 0!==window.wpzbscrmCustomFields.customers&&"[]"!=window.wpzbscrmCustomFields.customers&&jQuery.each(window.wpzbscrmCustomFields.customers,function(e,s){zbscrmJS_customFields_buildLineV3("customers",s)}),void 0!==window.wpzbscrmCustomFields.customersfiles&&jQuery.each(window.wpzbscrmCustomFields.customersfiles,function(e,s){zbscrmJS_customFields_buildLineFiles("customersfiles",s[0])}),void 0!==window.wpzbscrmCustomFields.companies&&jQuery.each(window.wpzbscrmCustomFields.companies,function(e,s){zbscrmJS_customFields_buildLineV3("companies",s)}),void 0!==window.wpzbscrmCustomFields.quotes&&jQuery.each(window.wpzbscrmCustomFields.quotes,function(e,s){zbscrmJS_customFields_buildLineV3("quotes",s)}),void 0!==window.wpzbscrmCustomFields.invoices&&jQuery.each(window.wpzbscrmCustomFields.invoices,function(e,s){zbscrmJS_customFields_buildLineV3("invoices",s)}),void 0!==window.wpzbscrmCustomFields.transactions&&jQuery.each(window.wpzbscrmCustomFields.transactions,function(e,s){zbscrmJS_customFields_buildLineV3("transactions",s)})}function zbscrmJS_customFields_buildLineV3(e,s){var t=1;switch(void 0!==window.zbs_root.dal&&(t=parseInt(window.zbs_root.dal)),"customers"==e&&(t=3),t){case 3:var i=s[2];"select"==s[0]&&""==s[2]&&"object"==typeof s[3]&&(i=s[3].join());var c="";void 0!==s[3]&&(c=s[3]),zbscrmJS_customFields_buildLine(e,s[0],s[1],i,c);break;default:zbscrmJS_customFields_buildLine(e,s[0],s[1],s[2])}}function zbscrmJS_customFields_buildLineFiles(e,s){void 0===s&&(s=zeroBSCRMJS_settingsLang("customfield","Custom Field"));var t='<tr class="zbscrm-cf"><td class="">';t+='<input type="text" class="form-control" name="wpzbscrm_cf_'+e+jQuery("#zbscrm-"+e+"-custom-fields tr").length+'_n" value="'+s+'" placeholder="'+zeroBSCRMJS_settingsLang("fileboxname","File Box Name")+'" /><br />',t+='<button type="button" class="zbscrm-remove button" style="margin:5px">'+zeroBSCRMJS_settingsLang("remove","Remove")+"</button></td></tr>",jQuery("#zbscrm-"+e+"-custom-fields tr").last().before(t),setTimeout(function(){zbscrmJS_customFields_bindRowControls()},0)}function zbscrmJS_customFields_buildLine(e,s,t,i,c){void 0===s&&(s="text"),void 0===t&&(t=zeroBSCRMJS_settingsLang("customfield","Custom Field")),void 0===i&&(i=""),void 0===c&&(c="");var o=jQuery("#zbscrm-"+e+"-custom-fields tr").length,r='<tr class="zbscrm-cf"><td class="zbscrm-cf-n">';r+='<input type="text" class="form-control" name="wpzbscrm_cf_'+e+o+'_n" value="'+t+'" placeholder="'+zeroBSCRMJS_settingsLang("fieldname","Field Name")+'" />',""!==c&&(r+='<div class="ui tiny label teal">'+c+"</div>"),r+='<div style="margin-top:.5em"><button type="button" class="zbscrm-remove button" style="margin:5px;">Remove</button></div></td><td>',r+='<label for="wpzbscrm_cf_'+e+o+'_t" class="zbscrm-cf-fieldtype-label">'+zeroBSCRMJS_settingsLang("fieldtype","Field Type:")+"</label>",void 0!==window.zbs_root.wl&&1!=window.zbs_root.wl&&(r+='<a href="'+window.wpzbscrm_settings_urls.autonumberhelp+'" target="_blank" class="ui mini right floated basic blue button zbs-generic-hide zbs-cf-type-autonumber"><i class="info icon"></i> '+zeroBSCRMJS_settingsLang("autonumberguide","Autonumber Guide")+"</a>"),r+=""==t&&""==i&&""==c?zbscrmJS_customFields_buildSelect(e,s,o):zbscrmJS_customFields_buildNonSelect(e,s,o),r+='<div class="zbscrm-cf-settings-wrap">',r+='<div class="zbs-placeholder-text"></div>',r+='<input type="text" class="form-control zbs-generic-hide zbs-generic" name="wpzbscrm_cf_'+e+o+'_p" value="'+i+'" placeholder="'+zeroBSCRMJS_settingsLang("fieldplacehold","Field Placeholder Text")+'" />';var n="",u=1,d="";if("autonumber"==s&&void 0!==i&&""!==i){var l=i.split("#");3==l.length&&(n=l[0],u=l[1],d=l[2])}r+='<div class="zbs-cf-type-autonumber-wrap zbs-generic-hide zbs-cf-type-autonumber">',r+='<div class="zbs-cf-type-autonumber-input-wrap"><div class="ui labeled input"><div class="ui label">'+zeroBSCRMJS_settingsLang("prefix","Prefix")+"</div>",r+='<input type="text" class="form-control zbs-generic-hide zbs-cf-type-autonumber" name="wpzbscrm_cf_'+e+o+'_anprefix" value="'+n+'" placeholder="'+zeroBSCRMJS_settingsLang("prefix","Prefix")+" "+zeroBSCRMJS_settingsLang("prefixe","(e.g. ABC-)")+'" />',r+="</div></div>",r+='<div class="zbs-cf-type-autonumber-input-wrap"><div class="ui labeled input"><div class="ui label">'+zeroBSCRMJS_settingsLang("nextnumber","Next Number")+"</div>",r+='<input type="text" class="form-control zbs-generic-hide zbs-cf-type-autonumber intOnly zbs-dc" name="wpzbscrm_cf_'+e+o+'_annextnumber" value="'+u+'" placeholder="'+zeroBSCRMJS_settingsLang("nextnumber","Next Number")+" "+zeroBSCRMJS_settingsLang("nextnumbere","(e.g. 1)")+'" />',r+="</div></div>",r+='<div class="zbs-cf-type-autonumber-input-wrap"><div class="ui labeled input"><div class="ui label">'+zeroBSCRMJS_settingsLang("suffix","Suffix")+"</div>",r+='<input type="text" class="form-control zbs-generic-hide zbs-cf-type-autonumber" name="wpzbscrm_cf_'+e+o+'_ansuffix" value="'+d+'" placeholder="'+zeroBSCRMJS_settingsLang("suffix","Suffix")+" "+zeroBSCRMJS_settingsLang("suffixe"," (e.g. -FINI)")+'" />',r+="</div></div>",r+="</div>",r+="</div>",r+="</td></tr>",jQuery("#zbscrm-"+e+"-custom-fields tr").last().before(r),setTimeout(function(){zbscrmJS_customFields_bindRowControls()},0)}function zbscrmJS_customFields_buildSelect(e,s,t){var i='<select class="form-control zbscrm-customtype" name="wpzbscrm_cf_'+e+t+'_t" id="wpzbscrm_cf_'+e+t+'_t">';return jQuery.each(window.wpzbscrmAcceptableTypes,function(e,t){var c=ucwords(t);"Tel"==c&&(c=zeroBSCRMJS_settingsLang("tel","Telephone")),"Numberfloat"==c&&(c=zeroBSCRMJS_settingsLang("numbdec","Numeric (Decimals)")),"Numberint"==c&&(c=zeroBSCRMJS_settingsLang("numb","Numeric")),"Encrypted"==c&&(c=zeroBSCRMJS_settingsLang("encryptedtext","Encrypted")),"Radio"==c&&(c=zeroBSCRMJS_settingsLang("radiobuttons","Radio Buttons")),i+='<option value="'+t+'"',t==s&&(i+=' selected="selected"'),i+=">"+c+"</option>"}),i+="</select>"}function zbscrmJS_customFields_buildNonSelect(e,s,t){var i="";return jQuery.each(window.wpzbscrmAcceptableTypes,function(e,t){var c=ucwords(t);"Tel"==c&&(c=zeroBSCRMJS_settingsLang("tel","Telephone")),"Numberfloat"==c&&(c=zeroBSCRMJS_settingsLang("numbdec","Numeric (Decimals)")),"Numberint"==c&&(c=zeroBSCRMJS_settingsLang("numb","Numeric")),"Encrypted"==c&&(c=zeroBSCRMJS_settingsLang("encryptedtext","Encrypted")),"Radio"==c&&(c=zeroBSCRMJS_settingsLang("radiobuttons","Radio Buttons")),t==s&&(i+='<div class="ui label blue">'+c+"</div>")}),i+='<input type="hidden" name="wpzbscrm_cf_'+e+t+'_t"  class="zbscrm-customtype" id="wpzbscrm_cf_'+e+t+'_t" value="'+s+'">'}function zbscrmJS_customFields_updateRow(e){var s=jQuery("select.zbscrm-customtype, input.zbscrm-customtype",e).val();void 0===s&&(s="text"),jQuery(".zbs-placeholder-text",jQuery(e)).html(zbscrmJS_customFieldTypePlaceholder(s)),"autonumber"==s||"encrypted"==s?(jQuery(".zbs-generic-hide",jQuery(e)).hide(),jQuery(".zbs-cf-type-"+s+"-hide",jQuery(e)).hide(),jQuery(".zbs-cf-type-"+s,jQuery(e)).show()):(jQuery(".zbs-generic-hide",jQuery(e)).hide(),jQuery(".zbs-generic",jQuery(e)).show())}function zbscrmJS_customFields_bindRowControls(){zbscrm_JS_bindFieldValidators(),jQuery("tr.zbscrm-cf").each(function(e,s){zbscrmJS_customFields_updateRow(jQuery(s).closest("tr.zbscrm-cf"))}),jQuery(".zbscrm-remove").off("click").click(function(){jQuery(this).closest("tr").remove()}),jQuery(".zbscrm-customtype").off("change").change(function(){zbscrmJS_customFields_updateRow(jQuery(this).closest("tr.zbscrm-cf"))})}function zbscrmJS_customFieldTypePlaceholder(e){switch(placeholderstr=zeroBSCRMJS_settingsLang("placeholder","Placeholder"),e){case"autonumber":placeholderstr=zeroBSCRMJS_settingsLang("autonumberformat","Autonumber Format");break;case"select":case"radio":case"checkbox":placeholderstr=zeroBSCRMJS_settingsLang("csvopt","CSV of options (e.g. 'a,b,c')");break;default:placeholderstr=zeroBSCRMJS_settingsLang("placeholder","Placeholder")}return placeholderstr+":"}function zeroBSCRMJS_settingsLang(e,s){if(void 0===s)s="";return void 0!==window.wpzbscrm_settings_lang[e]?window.wpzbscrm_settings_lang[e]:s}jQuery(document).ready(function(){if(void 0!==window.wpzbscrm_settings_page)switch(window.wpzbscrm_settings_page){case"customfields":zeroBSCRM_settingsPage_bindCustomFields()}});